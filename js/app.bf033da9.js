(function(t){function e(e){for(var o,s,a=e[0],c=e[1],l=e[2],h=0,m=[];h<a.length;h++)s=a[h],i[s]&&m.push(i[s][0]),i[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(o=!1)}o&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},i={1:0},r=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-on-visible/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;r.push([2,0]),n()})({2:function(t,e,n){t.exports=n("Vtdi")},"3qQ0":function(t,e,n){"use strict";n.r(e);n("rGqo"),n("KKXr"),n("Vd3H");(function(t,e){if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(t){var e=this._observationTargets.some(function(e){return e.element==t});if(!e){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},i.prototype._parseRootMargin=function(t){var e=t||"0px",n=e.split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return n[1]=n[1]||n[0],n[2]=n[2]||n[0],n[3]=n[3]||n[1],n},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(a(t,"resize",this._checkForIntersections,!0),a(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,c(t,"resize",this._checkForIntersections,!0),c(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():h();this._observationTargets.forEach(function(n){var i=n.element,s=u(i),a=this._rootContainsTarget(i),c=n.entry,l=t&&a&&this._computeTargetAndRootIntersection(i,e),h=n.entry=new o({time:r(),target:i,boundingClientRect:s,rootBounds:e,intersectionRect:l});c?t&&a?this._hasCrossedThreshold(c,h)&&this._queuedEntries.push(h):c&&c.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(n,o){if("none"!=t.getComputedStyle(n).display){var i=u(n),r=i,s=f(n),a=!1;while(!a){var c=null,h=1==s.nodeType?t.getComputedStyle(s):{};if("none"==h.display)return;if(s==this.root||s==e?(a=!0,c=o):s!=e.body&&s!=e.documentElement&&"visible"!=h.overflow&&(c=u(s)),c&&(r=l(c,r),!r))break;s=f(s)}return r}},i.prototype._getRootRect=function(){var t;if(this.root)t=u(this.root);else{var n=e.documentElement,o=e.body;t={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!==r<o)return!0}},i.prototype._rootIsInDom=function(){return!this.root||m(e,this.root)},i.prototype._rootContainsTarget=function(t){return m(this.root||e,t)},i.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},i.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=i,t.IntersectionObserverEntry=o}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||h(),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?i/n:this.isIntersecting?1:0}function i(t,e){var n=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=s(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function r(){return t.performance&&performance.now&&performance.now()}function s(t,e){var n=null;return function(){n||(n=setTimeout(function(){t(),n=null},e))}}function a(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function c(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function l(t,e){var n=Math.max(t.top,e.top),o=Math.min(t.bottom,e.bottom),i=Math.max(t.left,e.left),r=Math.min(t.right,e.right),s=r-i,a=o-n;return s>=0&&a>=0&&{top:n,bottom:o,left:i,right:r,width:s,height:a}}function u(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):h()}function h(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function m(t,e){var n=e;while(n){if(n==t)return!0;n=f(n)}return!1}function f(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}})(window,document)},EDI0:function(t,e,n){},Vtdi:function(t,e,n){"use strict";n.r(e);var o={};n.r(o),n.d(o,"default",function(){return f}),n.d(o,"OnVisible",function(){return R});n("VRzm");var i=n("Kw5r"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"boxes"},t._l(t.colors,function(e,o){return n("OnVisible",{key:o,attrs:{durationMs:parseInt(t.animationDurationMs),animateAbove:t.animateAbove,animateBelow:t.animateBelow,animationType:t.animation,yoyo:t.yoyo,offset:-200}},[n("div",{staticClass:"box",style:{backgroundColor:e.bg}})])})),n("div",{staticClass:"controls"},[n("label",{attrs:{for:"checkbox"}},[t._v("Toggle Controls")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.controls,expression:"controls"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.controls)?t._i(t.controls,null)>-1:t.controls},on:{change:function(e){var n=t.controls,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r=null,s=t._i(n,r);o.checked?s<0&&(t.controls=n.concat([r])):s>-1&&(t.controls=n.slice(0,s).concat(n.slice(s+1)))}else t.controls=i}}}),t.controls?n("div",{staticClass:"select"},[n("div",{staticClass:"control"},[n("label",{attrs:{for:""}},[t._v("Effect")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.animation,expression:"animation"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.animation=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"fade"}},[t._v("Fade")]),n("option",{attrs:{value:"zoom"}},[t._v("Zoom")])])]),n("div",{staticClass:"control"},[n("label",{attrs:{for:"checkbox"}},[t._v("YoYo")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.yoyo,expression:"yoyo"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.yoyo)?t._i(t.yoyo,null)>-1:t.yoyo},on:{change:function(e){var n=t.yoyo,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r=null,s=t._i(n,r);o.checked?s<0&&(t.yoyo=n.concat([r])):s>-1&&(t.yoyo=n.slice(0,s).concat(n.slice(s+1)))}else t.yoyo=i}}})]),n("div",{staticClass:"control checkbox"},[n("label",{attrs:{for:"checkbox"}},[t._v("Animate Above")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.animateAbove,expression:"animateAbove"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.animateAbove)?t._i(t.animateAbove,null)>-1:t.animateAbove},on:{change:function(e){var n=t.animateAbove,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r=null,s=t._i(n,r);o.checked?s<0&&(t.animateAbove=n.concat([r])):s>-1&&(t.animateAbove=n.slice(0,s).concat(n.slice(s+1)))}else t.animateAbove=i}}})]),n("div",{staticClass:"control checkbox"},[n("label",{attrs:{for:"checkbox"}},[t._v("Animate Below")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.animateBelow,expression:"animateBelow"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.animateBelow)?t._i(t.animateBelow,null)>-1:t.animateBelow},on:{change:function(e){var n=t.animateBelow,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r=null,s=t._i(n,r);o.checked?s<0&&(t.animateBelow=n.concat([r])):s>-1&&(t.animateBelow=n.slice(0,s).concat(n.slice(s+1)))}else t.animateBelow=i}}})]),n("div",{staticClass:"control"},[n("label",{attrs:{for:""}},[t._v("Duration in Ms")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.animationDurationMs,expression:"animationDurationMs"}],attrs:{type:"number",min:"100",step:"50"},domProps:{value:t.animationDurationMs},on:{input:function(e){e.target.composing||(t.animationDurationMs=e.target.value)}}})]),n("div",{staticClass:"control"},[n("label",{attrs:{for:""}},[t._v("Number of items")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.numItems,expression:"numItems"}],attrs:{type:"number",min:"50",max:"500"},domProps:{value:t.numItems},on:{input:function(e){e.target.composing||(t.numItems=e.target.value)}}})])]):t._e()])])},s=[],a=(n("bHtr"),{name:"app",data:function(){return{controls:!1,animationDurationMs:650,animateAbove:!0,animateBelow:!0,numItems:100,animation:"fade",yoyo:!0}},computed:{colors:function(){var t=parseInt(this.numItems)||1;return new Array(t).fill("").map(function(e,n){return{bg:"hsl(".concat(2*n/t*360,",100%,50%)")}})}},methods:{getRandomHeight:function(){return Math.floor(351*Math.random())+150}}}),c=a,l=(n("ZL7j"),n("KHd+")),u=Object(l["a"])(c,r,s,!1,null,null,null),h=u.exports,m=(n("yt8O"),n("RW0V"),n("rGqo"),{install:function(){Object.keys(o).filter(function(t){return"default"!==t}).forEach(function(t){i["a"].component(t,o[t])})}}),f=m,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("OnVisibleEmitter",{attrs:{yoyo:t.yoyo,offset:t.offsets,animateAbove:t.animateAbove,animateBelow:t.animateBelow},on:{"visibility-change":t.handleVisibilityChange}},[n("div",{ref:"container",staticClass:"on-visible__container",class:t.className,style:{animationDuration:t.durationMs+"ms"},on:{animationend:function(e){t.animationClass=!1}}},[t._t("default")],2)])},d=[],v=n("oyJW"),b=n("yT7P"),y=n("a94B"),g=(n("xfY5"),{name:"OnVisibleEventEmitter",data:function(){return{entry:{},bottom:!1,top:!1,isInView:null,hasEntered:!1}},props:{animateAbove:{default:!1,type:Boolean},animateBelow:{default:!0,type:Boolean},offset:{default:0,required:!1},yoyo:{default:!1,required:!1,type:Boolean},accuracy:{default:60,required:!1,type:Number}},watch:{yoyo:function(t,e){!e&&t&&this.observer.observe(this.$refs.container)},isInView:function(t,e){var n;t&&!this.yoyo&&this.observer.unobserve(this.$el),e?t||(this.exitingToBottom()?(n="OutDown",this.$emit("exit-to-top",this.getEmitProps({animation:n,isInView:t}))):this.exitingToTop()&&(n="OutUp",this.$emit("exit-to-bottom",this.getEmitProps({animation:n,isInView:t})))):this.enteringFromBottom()?(n="InUp",this.$emit("enter-from-bottom",this.getEmitProps({animation:n,isInView:t}))):this.enteringFromTop()&&(n="InDown",this.$emit("enter-from-top",this.getEmitProps({animation:n,isInView:t}))),this.$emit("visibility-change",this.getEmitProps({isInView:t,animation:n}))}},mounted:function(){this.observer=new IntersectionObserver(this.handleObserver,{root:null,rootMargin:"".concat(this.offset.top,"px 0px ").concat(this.offset.bottom,"px 0px"),threshold:this.buildThresholdList(this.accuracy)}),this.observer.observe(this.$el)},methods:{getEmitProps:function(t){var e=t.isInView,n=t.animation;return{animation:n,visible:e,isAbove:this.entry.boundingClientRect.bottom<this.entry.rootBounds.top,isBelow:this.entry.boundingClientRect.top>this.entry.rootBounds.bottom}},enteringFromTop:function(){return this.top<this.entry.rootBounds.top&&this.bottom>this.entry.rootBounds.top&&this.animateAbove},enteringFromBottom:function(){return this.top<this.entry.rootBounds.bottom&&this.bottom>this.entry.rootBounds.bottom&&this.animateBelow},exitingToTop:function(){return this.bottom<this.entry.rootBounds.top&&this.animateAbove},exitingToBottom:function(){return this.top>this.entry.rootBounds.bottom&&this.animateBelow},buildThresholdList:function(t){for(var e=[],n=1;n<=t;n++){var o=n/t;e.push(o)}return e.push(0),e},handleObserver:function(t){var e=this;t.forEach(function(t){var n=t.boundingClientRect,o=n.bottom,i=n.top;e.top=i,e.bottom=o,e.isInView=t.intersectionRatio>0,e.entry=t}),this.hasEntered=!0}}}),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticStyle:{color:"white"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.hasEntered,expression:"hasEntered"}]}),t._t("default")],2)},w=[],I={name:"OnVisibleEmitter",mixins:[g]},E=I,O=Object(l["a"])(E,_,w,!1,null,null,null),A=O.exports;n("3qQ0");var T={name:"OnVisible",components:{OnVisibleEmitter:A},props:{durationMs:{type:Number,default:400},animationType:{type:String,default:"fade",required:!1},animateAbove:{default:!1,type:Boolean},animateBelow:{default:!0,type:Boolean},offset:{default:0},yoyo:{type:Boolean,default:!1}},data:function(){return{isAbove:!1,isBelow:!1,visible:!1,animationClass:!1,hasFired:!1}},computed:{offsets:function(){var t={top:0,bottom:0};return"object"===Object(y["a"])(this.offset)?Object(b["a"])({},t,this.offset):"number"===typeof this.offset?{top:this.offset,bottom:this.offset}:void 0},className:function(){return Object(v["a"])({above:this.isAbove&&this.animateAbove,below:this.isBelow&&this.animateBelow,animated:this.animationClass},this.animationClass,this.animationClass)}},methods:{setAnimation:function(t){this.animationClass=this.animationType+t},handleVisibilityChange:function(t){var e=t.visible,n=t.animation,o=t.isAbove,i=t.isBelow;this.visible=e,this.isAbove=o,this.isBelow=i,n&&this.setAnimation(n)}}},x=T,B=(n("tbmY"),Object(l["a"])(x,p,d,!1,null,null,null)),R=B.exports;i["a"].use(f),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(h)}}).$mount("#app")},ZL7j:function(t,e,n){"use strict";var o=n("EDI0"),i=n.n(o);i.a},t4gm:function(t,e,n){},tbmY:function(t,e,n){"use strict";var o=n("t4gm"),i=n.n(o);i.a}});
//# sourceMappingURL=app.bf033da9.js.map