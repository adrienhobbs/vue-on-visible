(function(t){function e(e){for(var n,s,a=e[0],c=e[1],u=e[2],h=0,p=[];h<a.length;h++)s=a[h],i[s]&&p.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,a=1;a<o.length;a++){var c=o[a];0!==i[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},i={1:0},r=[];function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-on-visible/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;r.push([0,0]),o()})({0:function(t,e,o){t.exports=o("Vtdi")},EWSE:function(t,e,o){var n=o("ZNfK");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=o("SZ7m").default;i("e2b4c6fa",n,!0,{sourceMap:!1,shadowMode:!1})},Vtdi:function(t,e,o){"use strict";o.r(e);var n={};o.r(n),o.d(n,"default",function(){return E}),o.d(n,"OnVisible",function(){return f});o("VRzm");var i=o("Kw5r"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"boxes"},t._l(t.colors,function(e,n){return o("div",{key:n,attrs:{yoyo:t.yoyo}},[o("OnVisible",{attrs:{yoyo:t.yoyo},scopedSlots:t._u([{key:"default",fn:function(n){return o("div",{staticClass:"box",style:{backgroundColor:e.bg}},[o("div",{staticStyle:{position:"relative",width:"100%",height:"100%"}},[o("div",{staticStyle:{top:"10px",position:"absolute"}},[t._v("\n              "+t._s(n.viewport)+"\n            ")]),o("div",{staticStyle:{bottom:"10px",position:"absolute"}},[t._v("\n              "+t._s(n.viewport)+"\n            ")])])])}}])})],1)}))])},s=[],a=(o("bHtr"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.rect,expression:"rect"},{name:"on-visible",rawName:"v-on-visible",value:{callback:t.updateState,offsets:t.offsets,yoyo:t.yoyo},expression:"{callback: updateState, offsets, yoyo}"}]},[t._t("default",null,{viewport:{isVisible:t.isVisible,isAbove:t.isAbove,isBelow:t.isBelow,isPartiallyAbove:t.isPartiallyAbove,isPartiallyBelow:t.isPartiallyBelow,intersectionRatio:t.intersectionRatio}})],2)}),c=[],u=(o("rGqo"),{name:"OnVisible",props:{offsets:{type:Object,default:function(){return{top:"0%",bottom:"0%"}},required:!1},yoyo:{type:Boolean,default:!1}},data:function(){return{isVisible:null,intersectionRatio:null,isAbove:null,isBelow:null,isPartiallyAbove:null,isPartiallyBelow:null,rect:null}},methods:{updateState:function(t){var e=this;["rect","isAbove","isBelow","isPartiallyAbove","isPartiallyBelow","isVisible","intersectionRatio"].forEach(function(o){e[o]=t[o]})}}}),l=u,h=o("KHd+"),p=Object(h["a"])(l,a,c,!1,null,null,null),f=p.exports,d={name:"app",components:{OnVisible:f},data:function(){return{numItems:40,yoyo:!0}},computed:{colors:function(){var t=parseInt(this.numItems)||1;return new Array(t).fill("").map(function(e,o){return{bg:"hsl(".concat(2*o/t*360,",100%,50%)")}})}},methods:{getRandomHeight:function(){return Math.floor(351*Math.random())+150}}},b=d,v=(o("ZL7j"),Object(h["a"])(b,r,s,!1,null,null,null)),g=v.exports;o("KKXr"),o("Vd3H");(function(t,e){if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var o=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(t){var e=this._observationTargets.some(function(e){return e.element==t});if(!e){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,o){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==o[e-1]})},i.prototype._parseRootMargin=function(t){var e=t||"0px",o=e.split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return o[1]=o[1]||o[0],o[2]=o[2]||o[0],o[3]=o[3]||o[1],o},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(a(t,"resize",this._checkForIntersections,!0),a(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,c(t,"resize",this._checkForIntersections,!0),c(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():h();this._observationTargets.forEach(function(o){var i=o.element,s=l(i),a=this._rootContainsTarget(i),c=o.entry,u=t&&a&&this._computeTargetAndRootIntersection(i,e),h=o.entry=new n({time:r(),target:i,boundingClientRect:s,rootBounds:e,intersectionRect:u});c?t&&a?this._hasCrossedThreshold(c,h)&&this._queuedEntries.push(h):c&&c.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(o,n){if("none"!=t.getComputedStyle(o).display){var i=l(o),r=i,s=f(o),a=!1;while(!a){var c=null,h=1==s.nodeType?t.getComputedStyle(s):{};if("none"==h.display)return;if(s==this.root||s==e?(a=!0,c=n):s!=e.body&&s!=e.documentElement&&"visible"!=h.overflow&&(c=l(s)),c&&(r=u(c,r),!r))break;s=f(s)}return r}},i.prototype._getRootRect=function(){var t;if(this.root)t=l(this.root);else{var o=e.documentElement,n=e.body;t={top:0,left:0,right:o.clientWidth||n.clientWidth,width:o.clientWidth||n.clientWidth,bottom:o.clientHeight||n.clientHeight,height:o.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,o){return"px"==e.unit?e.value:e.value*(o%2?t.width:t.height)/100}),o={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return o.width=o.right-o.left,o.height=o.bottom-o.top,o},i.prototype._hasCrossedThreshold=function(t,e){var o=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(o!==n)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==o||r==n||r<o!==r<n)return!0}},i.prototype._rootIsInDom=function(){return!this.root||p(e,this.root)},i.prototype._rootContainsTarget=function(t){return p(this.root||e,t)},i.prototype._registerInstance=function(){o.indexOf(this)<0&&o.push(this)},i.prototype._unregisterInstance=function(){var t=o.indexOf(this);-1!=t&&o.splice(t,1)},t.IntersectionObserver=i,t.IntersectionObserverEntry=n}function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||h(),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,o=e.width*e.height,n=this.intersectionRect,i=n.width*n.height;this.intersectionRatio=o?i/o:this.isIntersecting?1:0}function i(t,e){var o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=s(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function r(){return t.performance&&performance.now&&performance.now()}function s(t,e){var o=null;return function(){o||(o=setTimeout(function(){t(),o=null},e))}}function a(t,e,o,n){"function"==typeof t.addEventListener?t.addEventListener(e,o,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,o)}function c(t,e,o,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,o,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,o)}function u(t,e){var o=Math.max(t.top,e.top),n=Math.min(t.bottom,e.bottom),i=Math.max(t.left,e.left),r=Math.min(t.right,e.right),s=r-i,a=n-o;return s>=0&&a>=0&&{top:o,bottom:n,left:i,right:r,width:s,height:a}}function l(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):h()}function h(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function p(t,e){var o=e;while(o){if(o==t)return!0;o=f(o)}return!1}function f(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}})(window,document);o("yt8O"),o("RW0V");var m=o("yT7P"),y={get isPartiallyBelow(){return this.bottom>this.bottomThreshold&&this.top<this.bottomThreshold},get isVisible(){return this.intersectionRatio>0},get isPartiallyAbove(){return this.top<this.topThreshold&&this.bottom>this.topThreshold},get bottom(){return this.rect.bottom},get top(){return this.rect.top},get rect(){return this.entry.boundingClientRect||this.elm.getBoundingClientRect()},get bottomThreshold(){return this.entry.rootBounds.bottom},get topThreshold(){return this.entry.rootBounds.top},get isAbove(){return this.bottom<this.topThreshold},get isBelow(){return this.top>this.bottomThreshold},get intersectionRatio(){return this.entry.intersectionRatio},update:function(t){this.entry=t,this.callback(this),1!==t.intersectionRatio||this.yoyo||this.observer.unobserve(this.elm)}},_=function(){var t=[],e={},o=function(t){for(var e=[],o=1;o<=t;o++){var n=o/t;e.push(n)}return e.push(0),e},n=function(e){e.forEach(function(e){var o=t.filter(function(t){return t.elm===e.target})[0];o.update(e)})},i=function(t){return new IntersectionObserver(n,{root:null,rootMargin:t,threshold:o(100)})},r=function(o){var n=o.elm,r=o.callback,s=o.offsets,a=void 0===s?{top:0,bottom:0}:s,c=o.yoyo,u=void 0!==c&&c,l=Object.create(y),h="".concat(a.top," 0px ").concat(a.bottom," 0px");e[h]=e[h]||i(h),e[h].observe(n),l.elm=n,l.callback=r,l.offsets=a,l.yoyo=u,l.rootMargin=h,l.observer=e[h],t.push(l)};return{observe:r}}(),w=_,I={install:function(){i["a"].directive("on-visible",{bind:function(t,e,o){w.observe(Object(m["a"])({elm:t},e.value,{vnode:o}))}}),Object.keys(n).filter(function(t){return"default"!==t}).forEach(function(t){i["a"].component(t,n[t])})}},E=I;i["a"].use(E),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(g)}}).$mount("#app")},ZL7j:function(t,e,o){"use strict";var n=o("EWSE"),i=o.n(n);i.a},ZNfK:function(t,e,o){e=t.exports=o("I1BE")(!1),e.push([t.i,"body{background-color:#262626;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin-bottom:200px;font-size:19px}.boxes{display:grid;max-width:768px;justify-self:center;grid-gap:10px;margin:auto}.box{height:89vh;width:100%}",""])}});
//# sourceMappingURL=app.e2c225e1.js.map